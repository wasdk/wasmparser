(module
  (type $type0 (func (param i64) (result i64)))
  (export "fac-rec" $func0)
  (export "fac-rec-named" $func1)
  (export "fac-iter" $func2)
  (export "fac-iter-named" $func3)
  (export "fac-opt" $func4)
  (func $func0 (param $var0 i64) (result i64)
    get_local $var0
    i64.const 0
    i64.eq
    if i64
      i64.const 1
    else
      get_local $var0
      get_local $var0
      i64.const 1
      i64.sub
      call $func0
      i64.mul
    end
  )
  (func $func1 (param $var0 i64) (result i64)
    get_local $var0
    i64.const 0
    i64.eq
    if i64
      i64.const 1
    else
      get_local $var0
      get_local $var0
      i64.const 1
      i64.sub
      call $func1
      i64.mul
    end
  )
  (func $func2 (param $var0 i64) (result i64)
    (local $var1 i64)
    (local $var2 i64)
    block i64
      get_local $var0
      set_local $var1
      i64.const 1
      set_local $var2
      block
        loop
          get_local $var1
          i64.const 0
          i64.eq
          if
            br 2
          else
            get_local $var1
            get_local $var2
            i64.mul
            set_local $var2
            get_local $var1
            i64.const 1
            i64.sub
            set_local $var1
          end
          br 0
        end
        unreachable
      end
      get_local $var2
    end
  )
  (func $func3 (param $var0 i64) (result i64)
    (local $var1 i64)
    (local $var2 i64)
    block i64
      get_local $var0
      set_local $var1
      i64.const 1
      set_local $var2
      block
        loop
          get_local $var1
          i64.const 0
          i64.eq
          if
            br 2
          else
            get_local $var1
            get_local $var2
            i64.mul
            set_local $var2
            get_local $var1
            i64.const 1
            i64.sub
            set_local $var1
          end
          br 0
        end
        unreachable
      end
      get_local $var2
    end
  )
  (func $func4 (param $var0 i64) (result i64)
    (local $var1 i64)
    block i64
      i64.const 1
      set_local $var1
      block
        get_local $var0
        i64.const 2
        i64.lt_s
        br_if 0
        loop
          get_local $var1
          get_local $var0
          i64.mul
          set_local $var1
          get_local $var0
          i64.const -1
          i64.add
          set_local $var0
          get_local $var0
          i64.const 1
          i64.gt_s
          br_if 0
        end
      end
      get_local $var1
    end
  )
)
